syntax = "proto3";

package application;

service ApplicationService {
  rpc add (AddRequest) returns (AddResponse) {}
  rpc get (GetRequest) returns (GetResponse) {}
  rpc list (ListRequest) returns (ListResponse) {}
  rpc remove (RemoveRequest) returns (RemoveResponse) {}
  rpc update (updateRequest) returns (updateResponse) {}
}
//enum 
enum stateEnum{
      PENDING = 0;
      ACCEPTED = 1;
      REJECTED= 2;
   }
// Create application

message AddRequest {
  int idOffer = 1;
  int idUser = 2;
}

message AddResponse {
  int32 status = 1;
  repeated string error = 2;
  int32 idApp = 3;
}

// Get by application id 

message GetData {
  int32 idApp = 1;
  int32 idOffer = 2;
  int32 idUser = 3;
  stateEnum state = 4;
}

message GetRequest {
  int32 idApp = 1;
  int32 idUser = 2;

}

message GetResponse {
  int32 status = 1;
  repeated string error = 2;
  GetData data = 3;
}


// search

message searchData {
  int32 idApp = 1;
  int32 idOffer = 2;
  int32 idUser = 3;
  stateEnum state = 4;
}

message searchRequest {
  optional int32 idApp = 1;
  optional int32 idOffer = 2;
  optional stateEnum state = 3;
  required int32 idUser = 4;
}

message searchResponse {
  int32 status = 1;
  repeated string error = 2;
  repeated ListData data = 3;
}

//Remove

message RemoveRequest {
  int32 idUser = 1;
}

message RemoveResponse {
  int32 status = 1;
  repeated string error = 2;
  int32 idApp = 3;
}

// update 

message updateData {
  int32 idApp = 1;
  int32 idOffer = 2;
  int32 idUser = 3;
  stateEnum state = 4;
}

message updateRequest {
  int32 idApp = 1;
  int32 idOffer = 2;
  int32 idUser = 3;
  stateEnum state = 4;
}

message updateResponse {
  int32 status = 1;
  repeated string error = 2;
  updateData data = 3;
}
